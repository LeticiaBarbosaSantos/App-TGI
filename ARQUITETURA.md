# ğŸ—ï¸ Arquitetura do Sistema de AutenticaÃ§Ã£o

## Diagrama Geral

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          SMARTPAY APP ARCHITECTURE                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    CAMADA DE APRESENTAÃ‡ÃƒO (Presentation Layer)
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                  FLUTTER MOBILE APP                   â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚                                                        â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚  â”‚          ğŸ” TELA DE LOGIN                       â”‚ â”‚
    â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
    â”‚  â”‚  â”‚ Email: [________________]                  â”‚ â”‚ â”‚
    â”‚  â”‚  â”‚ Senha: [________________ ğŸ‘ï¸]             â”‚ â”‚ â”‚
    â”‚  â”‚  â”‚                                            â”‚ â”‚ â”‚
    â”‚  â”‚  â”‚ [Entrar]  [Cadastre-se]                   â”‚ â”‚ â”‚
    â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
    â”‚  â”‚          â†•ï¸ (valida com API)                   â”‚ â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
    â”‚                                                        â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚  â”‚          ğŸ“ TELA DE CADASTRO                     â”‚ â”‚
    â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
    â”‚  â”‚  â”‚ Nome: [________________]                   â”‚ â”‚ â”‚
    â”‚  â”‚  â”‚ Email: [________________]                  â”‚ â”‚ â”‚
    â”‚  â”‚  â”‚ CPF: [______________]                      â”‚ â”‚ â”‚
    â”‚  â”‚  â”‚ Telefone: [_________________]              â”‚ â”‚ â”‚
    â”‚  â”‚  â”‚ Senha: [________________ ğŸ‘ï¸]             â”‚ â”‚ â”‚
    â”‚  â”‚  â”‚ Confirmar: [________________ ğŸ‘ï¸]         â”‚ â”‚ â”‚
    â”‚  â”‚  â”‚                                            â”‚ â”‚ â”‚
    â”‚  â”‚  â”‚ [Cadastrar]  [Voltar]                      â”‚ â”‚ â”‚
    â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
    â”‚  â”‚          â†•ï¸ (envia para API)                   â”‚ â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
    â”‚                                                        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â–¼                  â–¼                  â–¼
    
    CAMADA DE SERVIÃ‡OS (Api Service Layer)
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚              ApiService (HTTP Client)                    â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚                                                           â”‚
    â”‚  â€¢ loginUsuario(email, senha)                           â”‚
    â”‚  â€¢ registrarUsuario(nome, email, cpf, senha)            â”‚
    â”‚  â€¢ verificarRosto(usuarioId)                            â”‚
    â”‚  â€¢ obterPerfil(usuarioId)                               â”‚
    â”‚  â€¢ Mais 10+ mÃ©todos...                                  â”‚
    â”‚                                                           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                 HTTP POST / HTTP GET
                            â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                  â”‚                  â”‚
         â–¼                  â–¼                  â–¼

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              FASTAPI BACKEND (Python)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  ğŸ” POST /auth/login                                         â”‚
â”‚  â”œâ”€ Busca usuÃ¡rio por email                                 â”‚
â”‚  â”œâ”€ Verifica se estÃ¡ ativo                                  â”‚
â”‚  â”œâ”€ Compara senha com bcrypt                                â”‚
â”‚  â”œâ”€ Atualiza Ãºltimo_login                                   â”‚
â”‚  â”œâ”€ Gera token JWT                                          â”‚
â”‚  â”œâ”€ Registra log                                            â”‚
â”‚  â””â”€ Retorna: {token, usuario_id, nome, email}             â”‚
â”‚                                                               â”‚
â”‚  ğŸ“ POST /auth/registro                                      â”‚
â”‚  â”œâ”€ Valida: email Ãºnico, CPF Ãºnico                          â”‚
â”‚  â”œâ”€ Valida: senha >= 6 caracteres                           â”‚
â”‚  â”œâ”€ Hash da senha com bcrypt                                â”‚
â”‚  â”œâ”€ Insere no banco: usuarios                               â”‚
â”‚  â”œâ”€ Registra log                                            â”‚
â”‚  â””â”€ Retorna: {id, nome, email, cpf, ...}                  â”‚
â”‚                                                               â”‚
â”‚  ... 7+ outras rotas ...                                    â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”‚ ORM (SQLAlchemy)
                            â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                  â”‚                  â”‚
         â–¼                  â–¼                  â–¼

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              SQLite DATABASE (smartpay.db)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  ğŸ“‹ TABELA: usuarios                                         â”‚
â”‚  â”œâ”€ id (PK)                                                  â”‚
â”‚  â”œâ”€ nome                                                     â”‚
â”‚  â”œâ”€ email (UNIQUE, INDEX)                                   â”‚
â”‚  â”œâ”€ cpf (UNIQUE, INDEX)                                     â”‚
â”‚  â”œâ”€ senha_hash (bcrypt)                                     â”‚
â”‚  â”œâ”€ telefone                                                â”‚
â”‚  â”œâ”€ ativo (TRUE/FALSE)                                      â”‚
â”‚  â”œâ”€ criado_em (DATETIME)                                    â”‚
â”‚  â”œâ”€ ultimo_login (DATETIME)                                 â”‚
â”‚  â””â”€ ... 15+ outros campos ...                               â”‚
â”‚                                                               â”‚
â”‚  ğŸ“‹ TABELA: logs                                             â”‚
â”‚  â”œâ”€ id (PK)                                                  â”‚
â”‚  â”œâ”€ usuario_id (FK â†’ usuarios.id)                           â”‚
â”‚  â”œâ”€ tipo_acao (login, cadastro, logout, etc)               â”‚
â”‚  â”œâ”€ descricao                                               â”‚
â”‚  â”œâ”€ endereco_ip                                             â”‚
â”‚  â””â”€ criado_em (DATETIME, INDEX)                            â”‚
â”‚                                                               â”‚
â”‚  ğŸ“‹ OUTRAS TABELAS:                                          â”‚
â”‚  â”œâ”€ produtos                                                â”‚
â”‚  â”œâ”€ transacoes                                              â”‚
â”‚  â”œâ”€ carrinhos                                               â”‚
â”‚  â”œâ”€ pagamentos                                              â”‚
â”‚  â”œâ”€ reconhecimentos                                         â”‚
â”‚  â””â”€ ... 6+ mais ...                                         â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Fluxo de Dados - CADASTRO

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FLUXO DE CADASTRO                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1ï¸âƒ£  USUÃRIO PREENCHE FORMULÃRIO
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Nome: JoÃ£o Silva                â”‚
    â”‚ Email: joao@example.com         â”‚
    â”‚ CPF: 12345678901                â”‚
    â”‚ Telefone: 11999999999           â”‚
    â”‚ Senha: senha123456              â”‚
    â”‚ Confirmar: senha123456          â”‚
    â”‚                                 â”‚
    â”‚ [CADASTRAR]                     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
2ï¸âƒ£  VALIDAÃ‡ÃƒO NO FRONTEND (cadastro.dart)
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ âœ“ Nome nÃ£o vazio?               â”‚
    â”‚ âœ“ Email formato vÃ¡lido?         â”‚
    â”‚ âœ“ CPF tem 11 dÃ­gitos?           â”‚
    â”‚ âœ“ Senha >= 6 caracteres?        â”‚
    â”‚ âœ“ Senhas coincidem?             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
3ï¸âƒ£  REQUISIÃ‡ÃƒO HTTP (api_service.dart)
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ POST /auth/registro             â”‚
    â”‚ Content-Type: application/json  â”‚
    â”‚                                 â”‚
    â”‚ {                               â”‚
    â”‚   "nome": "JoÃ£o Silva",         â”‚
    â”‚   "email": "joao@...",          â”‚
    â”‚   "cpf": "12345678901",         â”‚
    â”‚   "senha": "senha123456",       â”‚
    â”‚   "telefone": "11999999999"     â”‚
    â”‚ }                               â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              HTTP â†“
                â”‚
                â–¼
4ï¸âƒ£  BACKEND VALIDA (routes_auth.py)
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ âœ“ Email jÃ¡ existe?                   â”‚
    â”‚   â†’ SELECT * FROM usuarios           â”‚
    â”‚   WHERE email = 'joao@...'           â”‚
    â”‚   âŒ Se existe â†’ ERRO 400             â”‚
    â”‚   âœ… Se nÃ£o existe â†’ continua         â”‚
    â”‚                                       â”‚
    â”‚ âœ“ CPF jÃ¡ existe?                     â”‚
    â”‚   â†’ SELECT * FROM usuarios           â”‚
    â”‚   WHERE cpf = '12345678901'          â”‚
    â”‚   âŒ Se existe â†’ ERRO 400             â”‚
    â”‚   âœ… Se nÃ£o existe â†’ continua         â”‚
    â”‚                                       â”‚
    â”‚ âœ“ Senha >= 6 chars?                  â”‚
    â”‚   âŒ Se < 6 â†’ ERRO 400                â”‚
    â”‚   âœ… Se >= 6 â†’ continua               â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
5ï¸âƒ£  HASH DA SENHA (bcrypt)
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Entrada: "senha123456"               â”‚
    â”‚            â†“                          â”‚
    â”‚         bcrypt.hash()                â”‚
    â”‚            â†“                          â”‚
    â”‚ SaÃ­da: "$2b$12$abcd...xyz.hash..."  â”‚
    â”‚ (irreversÃ­vel)                       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
6ï¸âƒ£  INSERE NO BANCO (SQLAlchemy ORM)
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ INSERT INTO usuarios (                â”‚
    â”‚   nome, email, cpf, senha_hash,      â”‚
    â”‚   telefone, criado_em, ativo         â”‚
    â”‚ ) VALUES (                           â”‚
    â”‚   'JoÃ£o Silva',                      â”‚
    â”‚   'joao@example.com',                â”‚
    â”‚   '12345678901',                     â”‚
    â”‚   '$2b$12$abcd...xyz',               â”‚
    â”‚   '11999999999',                     â”‚
    â”‚   NOW(),                             â”‚
    â”‚   true                               â”‚
    â”‚ );                                   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
7ï¸âƒ£  REGISTRA LOG (auditoria)
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ INSERT INTO logs (                   â”‚
    â”‚   usuario_id,                        â”‚
    â”‚   tipo_acao,                         â”‚
    â”‚   descricao,                         â”‚
    â”‚   criado_em                          â”‚
    â”‚ ) VALUES (                           â”‚
    â”‚   1,  -- ID do novo usuÃ¡rio          â”‚
    â”‚   'cadastro',                        â”‚
    â”‚   'Novo usuÃ¡rio registrado',         â”‚
    â”‚   NOW()                              â”‚
    â”‚ );                                   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
8ï¸âƒ£  RESPOSTA 200 OK (api_service.dart)
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ {                                    â”‚
    â”‚   "id": 1,                           â”‚
    â”‚   "nome": "JoÃ£o Silva",              â”‚
    â”‚   "email": "joao@example.com",       â”‚
    â”‚   "cpf": "12345678901",              â”‚
    â”‚   "telefone": "11999999999",         â”‚
    â”‚   "criado_em": "2026-02-27T...",    â”‚
    â”‚   ...                                â”‚
    â”‚ }                                    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
9ï¸âƒ£  FEEDBACK PARA USUÃRIO (widget)
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ âœ… Cadastro realizado com sucesso!   â”‚
    â”‚    FaÃ§a login agora.                 â”‚
    â”‚                                       â”‚
    â”‚ [Volta para tela de LOGIN]           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Fluxo de Dados - LOGIN

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FLUXO DE LOGIN                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1ï¸âƒ£  USUÃRIO PREENCHE CREDENCIAIS
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Email: joao@example.com         â”‚
    â”‚ Senha: senha123456 ğŸ‘ï¸          â”‚
    â”‚                                 â”‚
    â”‚ [ENTRAR]                        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
2ï¸âƒ£  VALIDAÃ‡ÃƒO NO FRONTEND (login.dart)
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ âœ“ Email nÃ£o vazio?              â”‚
    â”‚ âœ“ Senha nÃ£o vazia?              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           (Mostra "Loading...")
                â”‚
                â–¼
3ï¸âƒ£  REQUISIÃ‡ÃƒO HTTP (api_service.dart)
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ POST /auth/login                â”‚
    â”‚ Content-Type: application/json  â”‚
    â”‚                                 â”‚
    â”‚ {                               â”‚
    â”‚   "email": "joao@example.com",  â”‚
    â”‚   "senha": "senha123456"        â”‚
    â”‚ }                               â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              HTTP â†“
                â”‚
                â–¼
4ï¸âƒ£  BACKEND BUSCA USUÃRIO (database)
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ SELECT * FROM usuarios               â”‚
    â”‚ WHERE email = 'joao@example.com';    â”‚
    â”‚                                       â”‚
    â”‚ âŒ NÃ£o encontrado? ERRO 401           â”‚
    â”‚    "Email ou senha incorretos"        â”‚
    â”‚                                       â”‚
    â”‚ âœ… Encontrado? Continua...            â”‚
    â”‚    usuario = {                        â”‚
    â”‚      id: 1,                           â”‚
    â”‚      email: "joao@example.com",       â”‚
    â”‚      senha_hash: "$2b$12$abc...",    â”‚
    â”‚      ativo: true,                     â”‚
    â”‚      ...                              â”‚
    â”‚    }                                  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
5ï¸âƒ£  VALIDA SE USUÃRIO ESTÃ ATIVO
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ if usuario.ativo == false:           â”‚
    â”‚   âŒ ERRO 403 "UsuÃ¡rio desativado"   â”‚
    â”‚                                       â”‚
    â”‚ if usuario.ativo == true:            â”‚
    â”‚   âœ… Continua...                      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
6ï¸âƒ£  VERIFICA SENHA COM BCRYPT
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Entrada (do formulÃ¡rio)              â”‚
    â”‚   senha_plana = "senha123456"        â”‚
    â”‚                                       â”‚
    â”‚ Armazenado no banco:                 â”‚
    â”‚   senha_hash = "$2b$12$abc..."      â”‚
    â”‚                                       â”‚
    â”‚ ComparaÃ§Ã£o:                          â”‚
    â”‚   bcrypt.verify(                     â”‚
    â”‚     "senha123456",                   â”‚
    â”‚     "$2b$12$abc..."                  â”‚
    â”‚   )                                  â”‚
    â”‚                                       â”‚
    â”‚ âŒ Senhas nÃ£o conferem? ERRO 401     â”‚
    â”‚    "Email ou senha incorretos"       â”‚
    â”‚                                       â”‚
    â”‚ âœ… Senhas conferem? Continua...      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
7ï¸âƒ£  ATUALIZA ÃšLTIMO LOGIN
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ UPDATE usuarios                      â”‚
    â”‚ SET ultimo_login = NOW()             â”‚
    â”‚ WHERE id = 1;                        â”‚
    â”‚                                       â”‚
    â”‚ usuario.ultimo_login = "2026-02-..." â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
8ï¸âƒ£  GERA TOKEN JWT
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ payload = {                          â”‚
    â”‚   "usuario_id": 1,                   â”‚
    â”‚   "email": "joao@example.com",       â”‚
    â”‚   "exp": 1740758400  (24h depois)    â”‚
    â”‚ }                                    â”‚
    â”‚                                       â”‚
    â”‚ token = jwt.encode(                  â”‚
    â”‚   payload,                           â”‚
    â”‚   SECRET_KEY,                        â”‚
    â”‚   algorithm="HS256"                  â”‚
    â”‚ )                                    â”‚
    â”‚                                       â”‚
    â”‚ token = "eyJhbGc..."  (long string)  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
9ï¸âƒ£  REGISTRA LOG (auditoria)
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ INSERT INTO logs (                   â”‚
    â”‚   usuario_id,                        â”‚
    â”‚   tipo_acao,                         â”‚
    â”‚   descricao,                         â”‚
    â”‚   criado_em                          â”‚
    â”‚ ) VALUES (                           â”‚
    â”‚   1,                                 â”‚
    â”‚   'login',                           â”‚
    â”‚   'Login realizado com sucesso',    â”‚
    â”‚   NOW()                              â”‚
    â”‚ );                                   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
ğŸ”Ÿ  RESPOSTA 200 OK (api_service.dart)
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ {                                    â”‚
    â”‚   "access_token": "eyJhbGc...",     â”‚
    â”‚   "token_type": "bearer",            â”‚
    â”‚   "usuario_id": 1,                   â”‚
    â”‚   "nome": "JoÃ£o Silva",              â”‚
    â”‚   "email": "joao@example.com"        â”‚
    â”‚ }                                    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
1ï¸âƒ£1ï¸âƒ£  FEEDBACK PARA USUÃRIO (widget)
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ âœ… Login realizado com sucesso!      â”‚
    â”‚                                       â”‚
    â”‚ [Navega para /home]                  â”‚
    â”‚                                       â”‚
    â”‚ Autenticado! âœ…                       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Arquitetura de SeguranÃ§a

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              CAMADAS DE SEGURANÃ‡A                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”’ NÃVEL 1: FRONTEND            â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ â€¢ ValidaÃ§Ã£o de campos            â”‚
â”‚ â€¢ NÃ£o armazena senha em texto    â”‚
â”‚ â€¢ Toggle de visibilidade         â”‚
â”‚ â€¢ Clear feedback de erros        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ” NÃVEL 2: HTTP TRANSPORT     â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ âš ï¸  HTTP (development)           â”‚
â”‚ âœ… HTTPS (produÃ§Ã£o)             â”‚
â”‚ â€¢ Encrypt em trÃ¢nsito            â”‚
â”‚     (com TLS/SSL)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ›¡ï¸  NÃVEL 3: APLICAÃ‡ÃƒO          â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ â€¢ ValidaÃ§Ã£o de entrada           â”‚
â”‚ â€¢ Email Ã© Ãºnico (index)          â”‚
â”‚ â€¢ CPF Ã© Ãºnico (index)            â”‚
â”‚ â€¢ Senha >= 6 caracteres          â”‚
â”‚ â€¢ Rate limiting (TBD)            â”‚
â”‚ â€¢ Logs de auditoria              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”‘ NÃVEL 4: SENHAS             â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ â€¢ NUNCA texto plano              â”‚
â”‚ â€¢ bcrypt.hash() com salt         â”‚
â”‚ â€¢ SHA-512 (bcrypt internamente)  â”‚
â”‚ â€¢ IrreversÃ­vel                   â”‚
â”‚ â€¢ Custos computacionais altos    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ« NÃVEL 5: TOKENS             â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ â€¢ JWT com expiration             â”‚
â”‚ â€¢ HS256 (HMAC)                   â”‚
â”‚ â€¢ Payload: usuario_id + email    â”‚
â”‚ â€¢ VÃ¡lido por 24 horas            â”‚
â”‚ â€¢ Bearer token no header         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š NÃVEL 6: DATABASE            â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ â€¢ senha_hash (nunca senha)       â”‚
â”‚ â€¢ Constraints UNIQUE             â”‚
â”‚ â€¢ Indexes para performance       â”‚
â”‚ â€¢ Foreign Keys integridade       â”‚
â”‚ â€¢ Soft delete (ativo flag)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ NÃVEL 7: AUDITORIA          â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ â€¢ Logs de login                  â”‚
â”‚ â€¢ Logs de tentativas falhadas    â”‚
â”‚ â€¢ IP do cliente                  â”‚
â”‚ â€¢ Data/hora                      â”‚
â”‚ â€¢ Tipo de aÃ§Ã£o                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Diagrama criado em:** 27 de fevereiro de 2026
